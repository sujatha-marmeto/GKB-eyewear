{{ 'section-shop-by-categories.css' | asset_url | stylesheet_tag }}
<script src="{{ 'section-shop-bycategories.js' | asset_url }}" defer></script>

<div class="shop-by-categories-container">
    {% if section.settings.section_title %}
        <h2>{{ section.settings.section_title }}</h2>
    {% endif %}
    <!-- Dynamic Category Tabs -->
    <div class="shop-by-categories__tabs">
    <div class="category-tabs">
        {% assign tab_titles = section.blocks %}
        {% for block in tab_titles %}
          {% if block.settings.tab_title %}
            <button class="category-tab" data-category="{{ block.settings.tab_title }}">{{ block.settings.tab_title }}</button>
          {% else %}
            <p>No tab title available</p>
          {% endif %}
        {% endfor %}
    </div>
    </div>
    <div class="shop-by-categories_whatsapp_icon">
      <div class="whatsapp-icon">
        <a href="https://wa.me/your-number" class="header__icon header__icon--whatsapp link focus-inset" id="whatsapp-icon" target="_blank" aria-label="Chat with us on WhatsApp">
          <img src="{{ 'whatsapp.png' | asset_url }}" alt="WhatsApp Icon" class="icon-whatsapp" width="" height="" >
          <span class="visually-hidden">Chat with us on WhatsApp</span>
      </a>
      </div>
    </div>
    <!-- Dynamic Categories Grid -->
    <div  class="grid grid--1-col grid--2-col-tablet grid--4-row-desktop shop-by-categories-card-wrapper page-width page-width-desktop">
      {% for block in section.blocks %}
        <div class="shop-by-categories-card grid__item " data-category="{{ block.settings.tab_title }}">
          <!-- Category Images with Titles Below -->
          <div class="category-images">
            {% if block.settings.image_1 %}
              <div class="category-image">
                {% render "responsive-picture", desktopImage: block.settings.image_1, img-class: 'w-full h-auto'  %}
                <p class="image-title">{{ block.settings.image_1_title }}</p>
              </div>
            {% endif %}
            {% if block.settings.image_2 %}
              <div class="category-image">
                {% render "responsive-picture", desktopImage: block.settings.image_2, img-class: 'w-full h-auto'  %}
                <p class="image-title">{{ block.settings.image_2_title }}</p>
              </div>
            {% endif %}
            {% if block.settings.image_3 %}
              <div class="category-image">
                {% render "responsive-picture", desktopImage: block.settings.image_3, img-class: 'w-full h-auto'  %}
                <p class="image-title">{{ block.settings.image_3_title }}</p>
              </div>
            {% endif %}
            {% if block.settings.image_4 %}
                <div class="category-image">
                  {% render "responsive-picture", desktopImage: block.settings.image_4, img-class: 'w-full h-auto'  %}
                  <p class="image-title">{{ block.settings.image_4_title }}</p>
                </div>
            {% endif %}
            {% if block.settings.image_5 %}
                <div class="category-image">
                  {% render "responsive-picture", desktopImage: block.settings.image_5, img-class: 'w-full h-auto'  %}
                  <p class="image-title">{{ block.settings.image_5_title }}</p>
                </div>
            {% endif %}
            {% if block.settings.image_6 %}
                <div class="category-image">
                  {% render "responsive-picture", desktopImage: block.settings.image_6, img-class: 'w-full h-auto'  %}
                  <p class="image-title">{{ block.settings.image_6_title }}</p>
                </div>
              {% endif %}
          </div>
          <!-- Category Description -->
          {% comment %} <p class="category-name">{{ block.settings.image_info }}</p> {% endcomment %}
        </div>
      {% endfor %}
    </div>
</div>

{% schema %}
{
    "name": "Shop By Categories",
    "tag": "section",
    "settings": [
        {
            "type": "richtext",
            "label": "Section Title",
            "id": "section_title"
        },
    ],
    "blocks": [
      {
        "type": "category_tab",
        "name": "Category Title",
        "settings": [
          {
            "type": "text",
            "id": "tab_title",
            "label": "Tab title (e.g., Men, Women, Kids)"
          },
          {
            "type": "image_picker",
            "id": "image_1",
            "label": "Category image_1"
          },
          {
            "type": "text",
            "id": "image_1_title",
            "label": "Category Name_1 (e.g., Sunglasses, Accessories)"
          },
          {
            "type": "image_picker",
            "id": "image_2",
            "label": "Category image_2"
          },
          {
            "type": "text",
            "id": "image_2_title",
            "label": "Category name_2 (e.g., Sunglasses, Accessories)"
          },
          {
            "type": "image_picker",
            "id": "image_3",
            "label": "Category image_3"
          },
          {
            "type": "text",
            "id": "image_3_title",
             "label": "Category name_3 (e.g., Sunglasses, Accessories)"
          },
          {
            "type": "image_picker",
            "id": "image_4",
            "label": "Category image_4"
          },
          {
            "type": "text",
            "id": "image_4_title",
             "label": "Category name_4 (e.g., Sunglasses, Accessories)"
          },
          {
            "type": "image_picker",
            "id": "image_5",
            "label": "Category image_5"
          },
          {
            "type": "text",
            "id": "image_5_title",
             "label": "Category name_5 (e.g., Sunglasses, Accessories)"
          },
          {
            "type": "image_picker",
            "id": "image_6",
            "label": "Category image_4"
          },
          {
            "type": "text",
            "id": "image_6_title",
             "label": "Category name_6 (e.g., Sunglasses, Accessories)"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Shop By Categories",
        "category": "Custom"
      }
    ]
  }
  
{% endschema %}
